<img src="./header.png" />

# 3. 코드 리뷰 및 개선 요청하기 (AI를 통한 협업)

> [!NOTE]
> 이 페이지에서는 내가 작성한 코드나 AI가 생성한 코드 초안을 다시 AI에게 제시하여 **코드 리뷰(Code Review)**를 요청하고, 더 나은 방향으로 개선하는 방법을 학습합니다. AI를 단순한 코드 생성기가 아닌, 나의 코드 품질을 높여주는 협업 파트너로 활용하는 방법을 알아봅니다.

## 3.1. 왜 AI에게 코드 리뷰를 요청하는가?

- **객관적인 시각**: 내가 놓치기 쉬운 잠재적인 버그, 비효율적인 로직, 성능 문제 등을 제3자의 관점에서 찾아낼 수 있습니다.
- **모범 사례(Best Practices) 학습**: 더 효율적이고, 가독성 높고, 최신 표준에 맞는 코드 작성법을 제안받으며 자연스럽게 학습할 수 있습니다.
- **시간 절약**: 동료 개발자에게 리뷰를 요청하기 전에, AI를 통해 기본적인 문제들을 미리 수정하여 전체 개발 프로세스의 효율을 높일 수 있습니다.
- **다양한 해결책 탐색**: 특정 문제를 해결하는 더 나은, 혹은 다른 접근 방식을 제안받을 수 있습니다.

## 3.2. 효과적인 코드 리뷰 요청 프롬프트

단순히 "이 코드 어때?"라고 묻는 것보다, 명확한 목표와 기준을 제시하며 질문하는 것이 훨씬 효과적입니다.

### 1. 코드와 함께 맥락(Context) 제공

코드가 어떤 역할을 하는지, 그리고 어떤 목표를 가지고 작성되었는지 먼저 설명합니다.

> **프롬프트 예시:**
> "아래 코드는 사용자가 입력한 할 일(To-do)을 목록에 추가하는 JavaScript 함수야. 이 코드가 잘 작동하는지 리뷰해줘."

### 2. 구체적인 리뷰 관점 제시

어떤 부분에 초점을 맞춰 리뷰해 주길 원하는지 명확하게 요청합니다. 리뷰의 범위를 좁혀주면 더 깊이 있는 답변을 얻을 수 있습니다.

- **가독성(Readability)**: "이 코드를 다른 개발자가 더 쉽게 이해할 수 있도록 개선할 방법이 있을까? 변수명이나 함수명이 명확한지 봐줘."
- **성능(Performance)**: "이 코드에 성능상 비효율적인 부분이 있을까? 특히 반복문이나 DOM 조작 부분을 중점적으로 봐줘."
- **보안(Security)**: "사용자 입력을 처리하는 이 코드에 XSS(Cross-Site Scripting) 같은 보안 취약점이 있을까?"
- **버그(Bug)**: "이 코드가 특정 상황(Edge Case)에서 오류를 일으킬 가능성이 있는지 찾아줘. 예를 들어, 사용자가 아무것도 입력하지 않고 버튼을 누르는 경우."
- **리팩토링(Refactoring)**: "이 코드를 더 현대적인 JavaScript(ES6+) 문법을 사용하여 리팩토링해줘."

### 3. 대안이나 설명 요구

문제를 지적하는 것에서 그치지 않고, 어떻게 수정해야 하는지에 대한 구체적인 코드 예시나 설명을 함께 요구합니다.

> **프롬프트 예시:**
> "만약 개선할 부분이 있다면, 왜 그렇게 생각하는지 이유를 설명해주고, 수정된 코드 예시도 함께 보여줘."

## 3.3. 실전 예제: JavaScript 함수 리뷰 및 개선

**리뷰할 코드:**

```javascript
// 할 일 목록에 아이템을 추가하는 함수
function addTodo() {
  var input = document.getElementById('todo-input');
  var value = input.value;
  
  var list = document.getElementById('todo-list');
  var newItem = document.createElement('li');
  newItem.innerHTML = value;
  
  list.appendChild(newItem);
  input.value = '';
}
```

**리뷰 요청 프롬프트:**

> "너는 숙련된 JavaScript 개발자야. 아래 코드는 할 일 목록에 아이템을 추가하는 함수인데, 코드 리뷰를 부탁해.
> 
> **[리뷰 관점]**
> 1.  **잠재적인 버그**: 사용자가 아무것도 입력하지 않았을 때 빈 목록이 추가되는 문제가 있어. 이걸 어떻게 막을 수 있을까?
> 2.  **보안 취약점**: `innerHTML`을 사용하는 것이 안전한지 궁금해. 더 안전한 방법이 있다면 알려줘.
> 3.  **코드 스타일**: `var` 대신 `const`나 `let`을 사용하는 최신 스타일로 개선해줘.
> 
> 수정된 전체 코드와 함께 각 변경 사항에 대한 이유를 설명해줘."

**AI의 개선된 코드 및 설명 (예시):**

> "네, 코드 리뷰를 진행했습니다. 몇 가지 개선점을 찾아 수정된 코드를 제안합니다.
> 
> ```javascript
> // 개선된 코드
> function addTodo() {
>   const input = document.getElementById('todo-input');
>   const value = input.value.trim(); // 1. 입력값의 앞뒤 공백 제거
> 
>   // 2. 빈 값 입력 방지
>   if (value === '') {
>     alert('할 일을 입력해주세요!');
>     return; // 함수 종료
>   }
> 
>   const list = document.getElementById('todo-list');
>   const newItem = document.createElement('li');
>   
>   // 3. innerHTML 대신 textContent를 사용하여 XSS 방지
>   newItem.textContent = value;
>   
>   list.appendChild(newItem);
>   input.value = '';
> }
> ```
> 
> **[개선 사항 설명]**
> 1.  **공백 제거**: `input.value.trim()`을 사용하여 사용자가 공백만 입력하는 경우도 빈 값으로 처리하도록 했습니다.
> 2.  **입력값 검증**: `if (value === '')` 조건문을 추가하여, 입력값이 비어있을 경우 경고창을 띄우고 함수를 종료시켜 빈 목록이 추가되는 것을 막았습니다.
> 3.  **보안 강화**: `innerHTML`은 사용자 입력에 HTML 태그가 포함될 경우, 해당 태그가 그대로 실행되어 XSS 공격에 취약할 수 있습니다. 이를 방지하기 위해 순수 텍스트만 처리하는 `textContent`를 사용하여 보안을 강화했습니다.
> 4.  **최신 문법**: 재할당이 필요 없는 변수들은 `var` 대신 `const`를 사용하여 코드의 예측 가능성과 안정성을 높였습니다."

이처럼 AI를 협업 파트너로 활용하면 코드의 품질을 높이고, 스스로의 개발 실력도 함께 향상시킬 수 있습니다.
